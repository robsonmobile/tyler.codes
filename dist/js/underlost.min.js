/*!
 * underlost.codes v2.0.1 (http://underlost.net)
 * Copyright 2014 Tyler Rilling
 * Licensed under MIT (https://github.com/underlost/underlost.net/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("underlost's JavaScript requires jQuery");!function(a){var b,c,d="0.4.0",e="hasOwnProperty",f=/[\.\/]/,g="*",h=function(){},i=function(a,b){return a-b},j={n:{}},k=function(a,d){var e,f=c,g=Array.prototype.slice.call(arguments,2),h=k.listeners(a),j=0,l=[],m={},n=[];b=a,c=0;for(var o=0,p=h.length;p>o;o++)"zIndex"in h[o]&&(l.push(h[o].zIndex),h[o].zIndex<0&&(m[h[o].zIndex]=h[o]));for(l.sort(i);l[j]<0;)if(e=m[l[j++]],n.push(e.apply(d,g)),c)return c=f,n;for(o=0;p>o;o++)if(e=h[o],"zIndex"in e)if(e.zIndex==l[j]){if(n.push(e.apply(d,g)),c)return c=f,n;do if(j++,e=m[l[j]],e&&n.push(e.apply(d,g)),c)return c=f,n;while(e)}else m[e.zIndex]=e;else if(n.push(e.apply(d,g)),c)return c=f,n;return c=f,n.length?n:null};k.listeners=function(a){var b,c,d,e,h,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,h=m.length;h>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[g]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},k.on=function(a,b){for(var c=a.split(f),d=j,e=0,g=c.length;g>e;e++)d=d.n,!d[c[e]]&&(d[c[e]]={n:{}}),d=d[c[e]];for(d.f=d.f||[],e=0,g=d.f.length;g>e;e++)if(d.f[e]==b)return h;return d.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){c=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},k.unbind=function(a,b){var c,d,h,i,k,l,m,n=a.split(f),o=[j];for(i=0,k=n.length;k>i;i++)for(l=0;l<o.length;l+=h.length-2){if(h=[l,1],c=o[l].n,n[i]!=g)c[n[i]]&&h.push(c[n[i]]);else for(d in c)c[e](d)&&h.push(c[d]);o.splice.apply(o,h)}for(i=0,k=o.length;k>i;i++)for(c=o[i];c.n;){if(b){if(c.f){for(l=0,m=c.f.length;m>l;l++)if(c.f[l]==b){c.f.splice(l,1);break}!c.f.length&&delete c.f}for(d in c.n)if(c.n[e](d)&&c.n[d].f){var p=c.n[d].f;for(l=0,m=p.length;m>l;l++)if(p[l]==b){p.splice(l,1);break}!p.length&&delete c.n[d].f}}else{delete c.f;for(d in c.n)c.n[e](d)&&c.n[d].f&&delete c.n[d].f}c=c.n}},k.once=function(a,b){var c=function(){b.apply(this,arguments),k.unbind(a,c)};return k.on(a,c)},k.version=d,k.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=k:a.eve=k}(this),function(){function a(b){if(a.is(b,"function"))return k?b():eve.on("DOMload",b);if(a.is(b,L))return a._engine.create[t](a,b.splice(0,3+a.is(b[0],J))).add(b);var c=Array.prototype.slice.call(arguments,0);if(a.is(c[c.length-1],"function")){var d=c.pop();return k?d.call(a._engine.create[t](a,c)):eve.on("DOMload",function(){d.call(a._engine.create[t](a,c))})}return a._engine.create[t](a,arguments)}function b(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function c(a,c,d){function e(){var f=Array.prototype.slice.call(arguments,0),g=f.join("␀"),h=e.cache=e.cache||{},i=e.count=e.count||[];return h[p](g)?(b(i,g),d?d(h[g]):h[g]):(i.length>=1e3&&delete h[i.shift()],i.push(g),h[g]=a[t](c,f),d?d(h[g]):h[g])}return e}function d(){return this.hex}function e(a){for(var b=[],c=0,d=a.length;d-2>c;c+=2){var e=[{x:+a[c],y:+a[c+1]},{x:+a[c],y:+a[c+1]},{x:+a[c+2],y:+a[c+3]},{x:+a[c+4],y:+a[c+5]}];d-4==c?(e[0]={x:+a[c-2],y:+a[c-1]},e[3]=e[2]):c&&(e[0]={x:+a[c-2],y:+a[c-1]}),b.push(["C",(-e[0].x+6*e[1].x+e[2].x)/6,(-e[0].y+6*e[1].y+e[2].y)/6,(e[1].x+6*e[2].x-e[3].x)/6,(e[1].y+6*e[2].y-e[3].y)/6,e[2].x,e[2].y])}return b}function f(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+x+this.y+x+this.width+" × "+this.height}function h(a,b,c,d,e,f){function g(a){return((l*a+k)*a+j)*a}function h(a,b){var c=i(a,b);return((o*c+n)*c+m)*c}function i(a,b){var c,d,e,f,h,i;for(e=a,i=0;8>i;i++){if(f=g(e)-a,G(f)<b)return e;if(h=(3*l*e+2*k)*e+j,G(h)<1e-6)break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),G(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}var j=3*b,k=3*(d-b)-j,l=1-j-k,m=3*c,n=3*(e-c)-m,o=1-m-n;return h(a,1/(200*f))}function i(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[p](e)&&(d[R(e)]=a[e],c.push(R(e)));c.sort(bb)}this.anim=d,this.top=c[c.length-1],this.percents=c}function j(b,c,d,e,g,i){d=R(d);var j,k,l,n,o,q,r=b.ms,s={},t={},v={};if(e)for(x=0,A=Yb.length;A>x;x++){var w=Yb[x];if(w.el.id==c.id&&w.anim==b){w.percent!=d?(Yb.splice(x,1),l=1):k=w,c.attr(w.totalOrigin);break}}else e=+t;for(var x=0,A=b.percents.length;A>x;x++){if(b.percents[x]==d||b.percents[x]>e*b.top){d=b.percents[x],o=b.percents[x-1]||0,r=r/b.top*(d-o),n=b.percents[x+1],j=b.anim[d];break}e&&c.attr(b.anim[b.percents[x]])}if(j){if(k)k.initstatus=e,k.start=new Date-k.ms*e;else{for(var B in j)if(j[p](B)&&(V[p](B)||c.paper.customAttributes[p](B)))switch(s[B]=c.attr(B),null==s[B]&&(s[B]=U[B]),t[B]=j[B],V[B]){case J:v[B]=(t[B]-s[B])/r;break;case"colour":s[B]=a.getRGB(s[B]);var C=a.getRGB(t[B]);v[B]={r:(C.r-s[B].r)/r,g:(C.g-s[B].g)/r,b:(C.b-s[B].b)/r};break;case"path":var D=zb(s[B],t[B]),E=D[1];for(s[B]=D[0],v[B]=[],x=0,A=s[B].length;A>x;x++){v[B][x]=[0];for(var F=1,G=s[B][x].length;G>F;F++)v[B][x][F]=(E[x][F]-s[B][x][F])/r}break;case"transform":var H=c._,I=Db(H[B],t[B]);if(I)for(s[B]=I.from,t[B]=I.to,v[B]=[],v[B].real=!0,x=0,A=s[B].length;A>x;x++)for(v[B][x]=[s[B][x][0]],F=1,G=s[B][x].length;G>F;F++)v[B][x][F]=(t[B][x][F]-s[B][x][F])/r;else{var K=c.matrix||new f,L={_:{transform:H.transform},getBBox:function(){return c.getBBox(1)}};s[B]=[K.a,K.b,K.c,K.d,K.e,K.f],Bb(L,t[B]),t[B]=L._.transform,v[B]=[(L.matrix.a-K.a)/r,(L.matrix.b-K.b)/r,(L.matrix.c-K.c)/r,(L.matrix.d-K.d)/r,(L.matrix.e-K.e)/r,(L.matrix.e-K.f)/r]}break;case"csv":var M=y(j[B])[z](m),N=y(s[B])[z](m);if("clip-rect"==B)for(s[B]=N,v[B]=[],x=N.length;x--;)v[B][x]=(M[x]-s[B][x])/r;t[B]=M;break;default:for(M=[][u](j[B]),N=[][u](s[B]),v[B]=[],x=c.paper.customAttributes[B].length;x--;)v[B][x]=((M[x]||0)-(N[x]||0))/r}var O=j.easing,Q=a.easing_formulas[O];if(!Q)if(Q=y(O).match(P),Q&&5==Q.length){var S=Q;Q=function(a){return h(a,+S[1],+S[2],+S[3],+S[4],r)}}else Q=db;if(q=j.start||b.start||+new Date,w={anim:b,percent:d,timestamp:q,start:q+(b.del||0),status:0,initstatus:e||0,stop:!1,ms:r,easing:Q,from:s,diff:v,to:t,el:c,callback:j.callback,prev:o,next:n,repeat:i||b.times,origin:c.attr(),totalOrigin:g},Yb.push(w),e&&!k&&!l&&(w.stop=!0,w.start=new Date-r*e,1==Yb.length))return $b();l&&(w.start=new Date-w.ms*e),1==Yb.length&&Zb($b)}eve("anim.start."+c.id,c,b)}}a.version="2.0.1",a.eve=eve;var k,l,m=/[, ]+/,n={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},o=/\{(\d+)\}/g,p="hasOwnProperty",q={doc:document,win:window},r={was:Object.prototype[p].call(q.win,"Raphael"),is:q.win.Raphael},s=function(){this.ca=this.customAttributes={}},t="apply",u="concat",v="createTouch"in q.doc,w="",x=" ",y=String,z="split",A="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[z](x),B={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},C=y.prototype.toLowerCase,D=Math,E=D.max,F=D.min,G=D.abs,H=D.pow,I=D.PI,J="number",K="string",L="array",M=Object.prototype.toString,N=(a._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),O={NaN:1,Infinity:1,"-Infinity":1},P=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=D.round,R=parseFloat,S=parseInt,T=y.prototype.toUpperCase,U=a._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},V=a._availableAnimAttrs={blur:J,"clip-rect":"csv",cx:J,cy:J,fill:"colour","fill-opacity":J,"font-size":J,height:J,opacity:J,path:"path",r:J,rx:J,ry:J,stroke:"colour","stroke-opacity":J,"stroke-width":J,transform:"transform",width:J,x:J,y:J},W=/\s*,\s*/,X={hs:1,rg:1},Y=/,?([achlmqrstvxz]),?/gi,Z=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/gi,$=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/gi,_=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/gi,ab=(a._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,{}),bb=function(a,b){return R(a)-R(b)},cb=function(){},db=function(a){return a},eb=a._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},fb=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},gb=a._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return fb(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return fb(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return eb(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return eb(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return eb(b.x,b.y,b.width,b.height)}},hb=a.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=zb(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a};if(a._g=q,a.type=q.win.SVGAngle||q.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==a.type){var ib,jb=q.doc.createElement("div");if(jb.innerHTML='<v:shape adj="1"/>',ib=jb.firstChild,ib.style.behavior="url(#default#VML)",!ib||"object"!=typeof ib.adj)return a.type=w;jb=null}a.svg=!(a.vml="VML"==a.type),a._Paper=s,a.fn=l=s.prototype=a.prototype,a._id=0,a._oid=0,a.is=function(a,b){return b=C.call(b),"finite"==b?!O[p](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||M.call(a).slice(8,-1).toLowerCase()==b},a.angle=function(b,c,d,e,f,g){if(null==f){var h=b-d,i=c-e;return h||i?(180+180*D.atan2(-i,-h)/I+360)%360:0}return a.angle(b,c,f,g)-a.angle(d,e,f,g)},a.rad=function(a){return a%360*I/180},a.deg=function(a){return 180*a/I%360},a.snapTo=function(b,c,d){if(d=a.is(d,"finite")?d:10,a.is(b,L)){for(var e=b.length;e--;)if(G(b[e]-c)<=d)return b[e]}else{b=+b;var f=c%b;if(d>f)return c-f;if(f>b-d)return c-f+b}return c};a.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=16*D.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});a.setWindow=function(b){eve("setWindow",a,q.win,b),q.win=b,q.doc=q.win.document,a._engine.initWin&&a._engine.initWin(q.win)};var kb=function(b){if(a.vml){var d,e=/^\s+|\s+$/g;try{var f=new ActiveXObject("htmlfile");f.write("<body>"),f.close(),d=f.body}catch(g){d=createPopup().document.body}var h=d.createTextRange();kb=c(function(a){try{d.style.color=y(a).replace(e,w);var b=h.queryCommandValue("ForeColor");return b=(255&b)<<16|65280&b|(16711680&b)>>>16,"#"+("000000"+b.toString(16)).slice(-6)}catch(c){return"none"}})}else{var i=q.doc.createElement("i");i.title="Raphaël Colour Picker",i.style.display="none",q.doc.body.appendChild(i),kb=c(function(a){return i.style.color=a,q.doc.defaultView.getComputedStyle(i,w).getPropertyValue("color")})}return kb(b)},lb=function(){return"hsb("+[this.h,this.s,this.b]+")"},mb=function(){return"hsl("+[this.h,this.s,this.l]+")"},nb=function(){return this.hex},ob=function(b,c,d){if(null==c&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r),null==c&&a.is(b,K)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}return(b>1||c>1||d>1)&&(b/=255,c/=255,d/=255),[b,c,d]},pb=function(b,c,d,e){b*=255,c*=255,d*=255;var f={r:b,g:c,b:d,hex:a.rgb(b,c,d),toString:nb};return a.is(e,"finite")&&(f.opacity=e),f};a.color=function(b){var c;return a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):a.is(b,"object")&&"h"in b&&"s"in b&&"l"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):(a.is(b,"string")&&(b=a.getRGB(b)),a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:"none"},b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1)),b.toString=nb,b},a.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-G(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],pb(e,f,g,d)},a.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-G(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],pb(e,f,g,d)},a.rgb2hsb=function(a,b,c){c=ob(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=E(a,b,c),g=f-F(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:lb}},a.rgb2hsl=function(a,b,c){c=ob(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=E(a,b,c),h=F(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:mb}},a._path2string=function(){return this.join(",").replace(Y,"$1")};a._preload=function(a,b){var c=q.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,q.doc.body.removeChild(this)},c.onerror=function(){q.doc.body.removeChild(this)},q.doc.body.appendChild(c),c.src=a};a.getRGB=c(function(b){if(!b||(b=y(b)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:d};if("none"==b)return{r:-1,g:-1,b:-1,hex:"none",toString:d};!(X[p](b.toLowerCase().substring(0,2))||"#"==b.charAt())&&(b=kb(b));var c,e,f,g,h,i,j=b.match(N);return j?(j[2]&&(f=S(j[2].substring(5),16),e=S(j[2].substring(3,5),16),c=S(j[2].substring(1,3),16)),j[3]&&(f=S((h=j[3].charAt(3))+h,16),e=S((h=j[3].charAt(2))+h,16),c=S((h=j[3].charAt(1))+h,16)),j[4]&&(i=j[4][z](W),c=R(i[0]),"%"==i[0].slice(-1)&&(c*=2.55),e=R(i[1]),"%"==i[1].slice(-1)&&(e*=2.55),f=R(i[2]),"%"==i[2].slice(-1)&&(f*=2.55),"rgba"==j[1].toLowerCase().slice(0,4)&&(g=R(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100)),j[5]?(i=j[5][z](W),c=R(i[0]),"%"==i[0].slice(-1)&&(c*=2.55),e=R(i[1]),"%"==i[1].slice(-1)&&(e*=2.55),f=R(i[2]),"%"==i[2].slice(-1)&&(f*=2.55),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(c/=360),"hsba"==j[1].toLowerCase().slice(0,4)&&(g=R(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),a.hsb2rgb(c,e,f,g)):j[6]?(i=j[6][z](W),c=R(i[0]),"%"==i[0].slice(-1)&&(c*=2.55),e=R(i[1]),"%"==i[1].slice(-1)&&(e*=2.55),f=R(i[2]),"%"==i[2].slice(-1)&&(f*=2.55),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(c/=360),"hsla"==j[1].toLowerCase().slice(0,4)&&(g=R(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),a.hsl2rgb(c,e,f,g)):(j={r:c,g:e,b:f,toString:d},j.hex="#"+(16777216|f|e<<8|c<<16).toString(16).slice(1),a.is(g,"finite")&&(j.opacity=g),j)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:d}},a),a.hsb=c(function(b,c,d){return a.hsb2rgb(b,c,d).hex}),a.hsl=c(function(b,c,d){return a.hsl2rgb(b,c,d).hex}),a.rgb=c(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),a.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},a.getColor.reset=function(){delete this.start},a.parsePathString=c(function(b){if(!b)return null;var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},d=[];return a.is(b,L)&&a.is(b[0],L)&&(d=rb(b)),d.length||y(b).replace(Z,function(a,b,e){var f=[],g=b.toLowerCase();if(e.replace(_,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(d.push([b][u](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)d.push([b][u](f));else for(;f.length>=c[g]&&(d.push([b][u](f.splice(0,c[g]))),c[g]););}),d.toString=a._path2string,d}),a.parseTransformString=c(function(b){if(!b)return null;var c=[];return a.is(b,L)&&a.is(b[0],L)&&(c=rb(b)),c.length||y(b).replace($,function(a,b,d){{var e=[];C.call(b)}d.replace(_,function(a,b){b&&e.push(+b)}),c.push([b][u](e))}),c.toString=a._path2string,c}),a.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=H(j,3),l=H(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*D.atan2(q-s,r-t)/I;return(q>s||t>r)&&(y+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}},a._removedFactory=function(a){return function(){throw new Error("Raphaël: you are calling to method “"+a+"” of removed object")}};var qb=c(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=zb(a);for(var b,c=0,d=0,e=[],f=[],g=0,h=a.length;h>g;g++)if(b=a[g],"M"==b[0])c=b[1],d=b[2],e.push(c),f.push(d);else{var i=yb(c,d,b[1],b[2],b[3],b[4],b[5],b[6]);e=e[u](i.min.x,i.max.x),f=f[u](i.min.y,i.max.y),c=b[5],d=b[6]}var j=F[t](0,e),k=F[t](0,f);return{x:j,y:k,width:E[t](0,e)-j,height:E[t](0,f)-k}},null,function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}}),rb=function(b){var c=[];a.is(b,L)&&a.is(b&&b[0],L)||(b=a.parsePathString(b));for(var d=0,e=b.length;e>d;d++){c[d]=[];for(var f=0,g=b[d].length;g>f;f++)c[d][f]=b[d][f]}return c.toString=a._path2string,c},sb=a._pathToRelative=c(function(b){a.is(b,L)&&a.is(b&&b[0],L)||(b=a.parsePathString(b));var c=[],d=0,e=0,f=0,g=0,h=0;"M"==b[0][0]&&(d=b[0][1],e=b[0][2],f=d,g=e,h++,c.push(["M",d,e]));for(var i=h,j=b.length;j>i;i++){var k=c[i]=[],l=b[i];if(l[0]!=C.call(l[0]))switch(k[0]=C.call(l[0]),k[0]){case"a":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]-d).toFixed(3),k[7]=+(l[7]-e).toFixed(3);break;case"v":k[1]=+(l[1]-e).toFixed(3);break;case"m":f=l[1],g=l[2];default:for(var m=1,n=l.length;n>m;m++)k[m]=+(l[m]-(m%2?d:e)).toFixed(3)}else{k=c[i]=[],"m"==l[0]&&(f=l[1]+d,g=l[2]+e);for(var o=0,p=l.length;p>o;o++)c[i][o]=l[o]}var q=c[i].length;switch(c[i][0]){case"z":d=f,e=g;break;case"h":d+=+c[i][q-1];break;case"v":e+=+c[i][q-1];break;default:d+=+c[i][q-2],e+=+c[i][q-1]}}return c.toString=a._path2string,c},0,rb),tb=a._pathToAbsolute=c(function(b){if(a.is(b,L)&&a.is(b&&b[0],L)||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var c=[],d=0,f=0,g=0,h=0,i=0;"M"==b[0][0]&&(d=+b[0][1],f=+b[0][2],g=d,h=f,i++,c[0]=["M",d,f]);for(var j,k,l=i,m=b.length;m>l;l++){if(c.push(j=[]),k=b[l],k[0]!=T.call(k[0]))switch(j[0]=T.call(k[0]),j[0]){case"A":j[1]=k[1],j[2]=k[2],j[3]=k[3],j[4]=k[4],j[5]=k[5],j[6]=+(k[6]+d),j[7]=+(k[7]+f);break;case"V":j[1]=+k[1]+f;break;case"H":j[1]=+k[1]+d;break;case"R":for(var n=[d,f][u](k.slice(1)),o=2,p=n.length;p>o;o++)n[o]=+n[o]+d,n[++o]=+n[o]+f;c.pop(),c=c[u](e(n));break;case"M":g=+k[1]+d,h=+k[2]+f;default:for(o=1,p=k.length;p>o;o++)j[o]=+k[o]+(o%2?d:f)}else if("R"==k[0])n=[d,f][u](k.slice(1)),c.pop(),c=c[u](e(n)),j=["R"][u](k.slice(-2));else for(var q=0,r=k.length;r>q;q++)j[q]=k[q];switch(j[0]){case"Z":d=g,f=h;break;case"H":d=j[1];break;case"V":f=j[1];break;case"M":g=j[j.length-2],h=j[j.length-1];default:d=j[j.length-2],f=j[j.length-1]}}return c.toString=a._path2string,c},null,rb),ub=function(a,b,c,d){return[a,b,c,d,c,d]},vb=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},wb=function(a,b,d,e,f,g,h,i,j,k){var l,m=120*I/180,n=I/180*(+f||0),o=[],p=c(function(a,b,c){var d=a*D.cos(c)-b*D.sin(c),e=a*D.sin(c)+b*D.cos(c);return{x:d,y:e}});if(k)A=k[0],B=k[1],x=k[2],y=k[3];else{l=p(a,b,-n),a=l.x,b=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(D.cos(I/180*f),D.sin(I/180*f),(a-i)/2),r=(b-j)/2,s=q*q/(d*d)+r*r/(e*e);s>1&&(s=D.sqrt(s),d=s*d,e=s*e);var t=d*d,v=e*e,w=(g==h?-1:1)*D.sqrt(G((t*v-t*r*r-v*q*q)/(t*r*r+v*q*q))),x=w*d*r/e+(a+i)/2,y=w*-e*q/d+(b+j)/2,A=D.asin(((b-y)/e).toFixed(9)),B=D.asin(((j-y)/e).toFixed(9));A=x>a?I-A:A,B=x>i?I-B:B,0>A&&(A=2*I+A),0>B&&(B=2*I+B),h&&A>B&&(A-=2*I),!h&&B>A&&(B-=2*I)}var C=B-A;if(G(C)>m){var E=B,F=i,H=j;B=A+m*(h&&B>A?1:-1),i=x+d*D.cos(B),j=y+e*D.sin(B),o=wb(i,j,d,e,f,0,h,F,H,[B,E,x,y])}C=B-A;var J=D.cos(A),K=D.sin(A),L=D.cos(B),M=D.sin(B),N=D.tan(C/4),O=4/3*d*N,P=4/3*e*N,Q=[a,b],R=[a+O*K,b-P*J],S=[i+O*M,j-P*L],T=[i,j];if(R[0]=2*Q[0]-R[0],R[1]=2*Q[1]-R[1],k)return[R,S,T][u](o);o=[R,S,T][u](o).join()[z](",");for(var U=[],V=0,W=o.length;W>V;V++)U[V]=V%2?p(o[V-1],o[V],n).y:p(o[V],o[V+1],n).x;return U},xb=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:H(j,3)*a+3*H(j,2)*i*c+3*j*i*i*e+H(i,3)*g,y:H(j,3)*b+3*H(j,2)*i*d+3*j*i*i*f+H(i,3)*h}},yb=c(function(a,b,c,d,e,f,g,h){var i,j=e-2*c+a-(g-2*e+c),k=2*(c-a)-2*(e-c),l=a-c,m=(-k+D.sqrt(k*k-4*j*l))/2/j,n=(-k-D.sqrt(k*k-4*j*l))/2/j,o=[b,h],p=[a,g];return G(m)>"1e12"&&(m=.5),G(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=xb(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=xb(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),j=f-2*d+b-(h-2*f+d),k=2*(d-b)-2*(f-d),l=b-d,m=(-k+D.sqrt(k*k-4*j*l))/2/j,n=(-k-D.sqrt(k*k-4*j*l))/2/j,G(m)>"1e12"&&(m=.5),G(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=xb(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=xb(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),{min:{x:F[t](0,p),y:F[t](0,o)},max:{x:E[t](0,p),y:E[t](0,o)}}}),zb=a._path2curve=c(function(a,b){for(var c=tb(a),d=b&&tb(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=(function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][u](wb[t](0,[b.x,b.y][u](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][u](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][u](vb(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][u](vb(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][u](ub(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][u](ub(b.x,b.y,a[1],b.y));break;case"V":a=["C"][u](ub(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][u](ub(b.x,b.y,b.X,b.Y))}return a}),h=function(a,b){if(a[b].length>7){a[b].shift();for(var e=a[b];e.length;)a.splice(b++,0,["C"][u](e.splice(0,6)));a.splice(b,1),k=E(c.length,d&&d.length||0)}},i=function(a,b,e,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[g][1],e.y=a[g][2],k=E(c.length,d&&d.length||0))},j=0,k=E(c.length,d&&d.length||0);k>j;j++){c[j]=g(c[j],e),h(c,j),d&&(d[j]=g(d[j],f)),d&&h(d,j),i(c,d,e,f,j),i(d,c,f,e,j);var l=c[j],m=d&&d[j],n=l.length,o=d&&m.length;e.x=l[n-2],e.y=l[n-1],e.bx=R(l[n-4])||e.x,e.by=R(l[n-3])||e.y,f.bx=d&&(R(m[o-4])||f.x),f.by=d&&(R(m[o-3])||f.y),f.x=d&&m[o-2],f.y=d&&m[o-1]}return d?[c,d]:c},null,rb),Ab=(a._parseDots=c(function(b){for(var c=[],d=0,e=b.length;e>d;d++){var f={},g=b[d].match(/^([^:]*):?([\d\.]*)/);if(f.color=a.getRGB(g[1]),f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),c.push(f)}for(d=1,e=c.length-1;e>d;d++)if(!c[d].offset){for(var h=R(c[d-1].offset||0),i=0,j=d+1;e>j;j++)if(c[j].offset){i=c[j].offset;break}i||(i=100,j=e),i=R(i);for(var k=(i-h)/(j-d+1);j>d;d++)h+=k,c[d].offset=h+"%"}return c}),a._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),Bb=(a._tofront=function(a,b){b.top!==a&&(Ab(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},a._toback=function(a,b){b.bottom!==a&&(Ab(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},a._insertafter=function(a,b,c){Ab(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},a._insertbefore=function(a,b,c){Ab(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},a._extractTransform=function(b,c){if(null==c)return b._.transform;c=y(c).replace(/\.{3}|\u2026/g,b._.transform||w);var d=a.parseTransformString(c),e=0,g=0,h=0,i=1,j=1,k=b._,l=new f;if(k.transform=d||[],d)for(var m=0,n=d.length;n>m;m++){var o,p,q,r,s,t=d[m],u=t.length,v=y(t[0]).toLowerCase(),x=t[0]!=v,z=x?l.invert():0;"t"==v&&3==u?x?(o=z.x(0,0),p=z.y(0,0),q=z.x(t[1],t[2]),r=z.y(t[1],t[2]),l.translate(q-o,r-p)):l.translate(t[1],t[2]):"r"==v?2==u?(s=s||b.getBBox(1),l.rotate(t[1],s.x+s.width/2,s.y+s.height/2),e+=t[1]):4==u&&(x?(q=z.x(t[2],t[3]),r=z.y(t[2],t[3]),l.rotate(t[1],q,r)):l.rotate(t[1],t[2],t[3]),e+=t[1]):"s"==v?2==u||3==u?(s=s||b.getBBox(1),l.scale(t[1],t[u-1],s.x+s.width/2,s.y+s.height/2),i*=t[1],j*=t[u-1]):5==u&&(x?(q=z.x(t[3],t[4]),r=z.y(t[3],t[4]),l.scale(t[1],t[2],q,r)):l.scale(t[1],t[2],t[3],t[4]),i*=t[1],j*=t[2]):"m"==v&&7==u&&l.add(t[1],t[2],t[3],t[4],t[5],t[6]),k.dirtyT=1,b.matrix=l}b.matrix=l,k.sx=i,k.sy=j,k.deg=e,k.dx=g=l.e,k.dy=h=l.f,1==i&&1==j&&!e&&k.bbox?(k.bbox.x+=+g,k.bbox.y+=+h):k.dirtyT=1}),Cb=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Db=a._equaliseTransform=function(b,c){c=y(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var d,e,f,g,h=E(b.length,c.length),i=[],j=[],k=0;h>k;k++){if(f=b[k]||Cb(c[k]),g=c[k]||Cb(f),f[0]!=g[0]||"r"==f[0].toLowerCase()&&(f[2]!=g[2]||f[3]!=g[3])||"s"==f[0].toLowerCase()&&(f[3]!=g[3]||f[4]!=g[4]))return;for(i[k]=[],j[k]=[],d=0,e=E(f.length,g.length);e>d;d++)d in f&&(i[k][d]=f[d]),d in g&&(j[k][d]=g[d])}return{from:i,to:j}};a._getContainer=function(b,c,d,e){var f;return f=null!=e||a.is(b,"object")?b:q.doc.getElementById(b),null!=f?f.tagName?null==c?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d}:{container:1,x:b,y:c,width:d,height:e}:void 0},a.pathToRelative=sb,a._engine={},a.path2curve=zb,a.matrix=function(a,b,c,d,e,g){return new f(a,b,c,d,e,g)},function(b){function c(a){return a[0]*a[0]+a[1]*a[1]}function d(a){var b=D.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}b.add=function(a,b,c,d,e,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,c,e],[b,d,g],[0,0,1]];for(a&&a instanceof f&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;3>h;h++)for(i=0;3>i;i++){for(k=0,j=0;3>j;j++)k+=m[h][j]*n[j][i];l[h][i]=k}this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2]},b.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new f(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},b.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},b.translate=function(a,b){this.add(1,0,0,1,a,b)},b.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},b.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var e=+D.cos(b).toFixed(9),f=+D.sin(b).toFixed(9);this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},b.x=function(a,b){return a*this.a+b*this.c+this.e},b.y=function(a,b){return a*this.b+b*this.d+this.f},b.get=function(a){return+this[y.fromCharCode(97+a)].toFixed(4)},b.toString=function(){return a.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},b.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},b.split=function(){var b={};b.dx=this.e,b.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];b.scalex=D.sqrt(c(e[0])),d(e[0]),b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear],b.scaley=D.sqrt(c(e[1])),d(e[1]),b.shear/=b.scaley;var f=-e[0][1],g=e[1][1];return 0>g?(b.rotate=a.deg(D.acos(g)),0>f&&(b.rotate=360-b.rotate)):b.rotate=a.deg(D.asin(f)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},b.toTransformString=function(a){var b=a||this[z]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx&&b.dy?"t"+[b.dx,b.dy]:w)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:w)+(b.rotate?"r"+[b.rotate,0,0]:w)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Eb=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);l.safari="Apple Computer, Inc."==navigator.vendor&&(Eb&&Eb[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Eb&&Eb[1]<8?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:cb;for(var Fb=function(){this.returnValue=!1},Gb=function(){return this.originalEvent.preventDefault()},Hb=function(){this.cancelBubble=!0},Ib=function(){return this.originalEvent.stopPropagation()},Jb=function(){return q.doc.addEventListener?function(a,b,c,d){var e=v&&B[b]?B[b]:b,f=function(e){var f=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,g=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft,h=e.clientX+g,i=e.clientY+f;if(v&&B[p](b))for(var j=0,k=e.targetTouches&&e.targetTouches.length;k>j;j++)if(e.targetTouches[j].target==a){var l=e;e=e.targetTouches[j],e.originalEvent=l,e.preventDefault=Gb,e.stopPropagation=Ib;break}return c.call(d,e,h,i)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:q.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||q.win.event;var b=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,e=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||Fb,a.stopPropagation=a.stopPropagation||Hb,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),Kb=[],Lb=function(a){for(var b,c=a.clientX,d=a.clientY,e=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,f=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft,g=Kb.length;g--;){if(b=Kb[g],v){for(var h,i=a.touches.length;i--;)if(h=a.touches[i],h.identifier==b.el._drag.id){c=h.clientX,d=h.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var j,k=b.el.node,l=k.nextSibling,m=k.parentNode,n=k.style.display;q.win.opera&&m.removeChild(k),k.style.display="none",j=b.el.paper.getElementByPoint(c,d),k.style.display=n,q.win.opera&&(l?m.insertBefore(k,l):m.appendChild(k)),j&&eve("drag.over."+b.el.id,b.el,j),c+=f,d+=e,eve("drag.move."+b.el.id,b.move_scope||b.el,c-b.el._drag.x,d-b.el._drag.y,c,d,a)}},Mb=function(b){a.unmousemove(Lb).unmouseup(Mb);for(var c,d=Kb.length;d--;)c=Kb[d],c.el._drag={},eve("drag.end."+c.el.id,c.end_scope||c.start_scope||c.move_scope||c.el,b);Kb=[]},Nb=a.el={},Ob=A.length;Ob--;)!function(b){a[b]=Nb[b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:Jb(this.shape||this.node||q.doc,b,c,d||this)})),this},a["un"+b]=Nb["un"+b]=function(a){for(var c=this.events,d=c.length;d--;)if(c[d].name==b&&c[d].f==a)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(A[Ob]);Nb.data=function(b,c){var d=ab[this.id]=ab[this.id]||{};if(1==arguments.length){if(a.is(b,"object")){for(var e in b)b[p](e)&&this.data(e,b[e]);return this}return eve("data.get."+this.id,this,d[b],b),d[b]}return d[b]=c,eve("data.set."+this.id,this,c,b),this
},Nb.removeData=function(a){return null==a?ab[this.id]={}:ab[this.id]&&delete ab[this.id][a],this},Nb.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},Nb.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var Pb=[];Nb.drag=function(b,c,d,e,f,g){function h(h){(h.originalEvent||h).preventDefault();var i=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,j=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft;this._drag.x=h.clientX+j,this._drag.y=h.clientY+i,this._drag.id=h.identifier,!Kb.length&&a.mousemove(Lb).mouseup(Mb),Kb.push({el:this,move_scope:e,start_scope:f,end_scope:g}),c&&eve.on("drag.start."+this.id,c),b&&eve.on("drag.move."+this.id,b),d&&eve.on("drag.end."+this.id,d),eve("drag.start."+this.id,f||e||this,h.clientX+j,h.clientY+i,h)}return this._drag={},Pb.push({el:this,start:h}),this.mousedown(h),this},Nb.onDragOver=function(a){a?eve.on("drag.over."+this.id,a):eve.unbind("drag.over."+this.id)},Nb.undrag=function(){for(var b=Pb.length;b--;)Pb[b].el==this&&(this.unmousedown(Pb[b].start),Pb.splice(b,1),eve.unbind("drag.*."+this.id));!Pb.length&&a.unmousemove(Lb).unmouseup(Mb)},l.circle=function(b,c,d){var e=a._engine.circle(this,b||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},l.rect=function(b,c,d,e,f){var g=a._engine.rect(this,b||0,c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},l.ellipse=function(b,c,d,e){var f=a._engine.ellipse(this,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},l.path=function(b){b&&!a.is(b,K)&&!a.is(b[0],L)&&(b+=w);var c=a._engine.path(a.format[t](a,arguments),this);return this.__set__&&this.__set__.push(c),c},l.image=function(b,c,d,e,f){var g=a._engine.image(this,b||"about:blank",c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},l.text=function(b,c,d){var e=a._engine.text(this,b||0,c||0,y(d));return this.__set__&&this.__set__.push(e),e},l.set=function(b){!a.is(b,"array")&&(b=Array.prototype.splice.call(arguments,0,arguments.length));var c=new ac(b);return this.__set__&&this.__set__.push(c),c},l.setStart=function(a){this.__set__=a||this.set()},l.setFinish=function(){var a=this.__set__;return delete this.__set__,a},l.setSize=function(b,c){return a._engine.setSize.call(this,b,c)},l.setViewBox=function(b,c,d,e,f){return a._engine.setViewBox.call(this,b,c,d,e,f)},l.top=l.bottom=null,l.raphael=a;var Qb=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=b.top+(q.win.pageYOffset||e.scrollTop||d.scrollTop)-f,i=b.left+(q.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:h,x:i}};l.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=q.doc.elementFromPoint(a,b);if(q.win.opera&&"svg"==e.tagName){var f=Qb(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var h=d.getIntersectionList(g,null);h.length&&(e=h[h.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},l.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},l.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},Nb.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=gb[this.type](this),b.bboxwt=qb(this.realPath),b.bboxwt.toString=g,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=gb[this.type](this)),b.bbox=qb(hb(this.realPath,this.matrix)),b.bbox.toString=g,b.dirty=b.dirtyT=0),b.bbox)},Nb.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},Nb.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||gb[this.type](this);f=this.matrix?hb(f,this.matrix):f;for(var g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var Rb={},Sb=function(b,c,d,e,f,g,h,i,j){var k,l,m=0,n=100,o=[b,c,d,e,f,g,h,i].join(),p=Rb[o];if(!p&&(Rb[o]=p={data:[]}),p.timer&&clearTimeout(p.timer),p.timer=setTimeout(function(){delete Rb[o]},2e3),null!=j&&!p.precision){var q=Sb(b,c,d,e,f,g,h,i);p.precision=10*~~q,p.data=[]}n=p.precision||n;for(var r=0;n+1>r;r++){if(p.data[r*n]?l=p.data[r*n]:(l=a.findDotsAtSegment(b,c,d,e,f,g,h,i,r/n),p.data[r*n]=l),r&&(m+=H(H(k.x-l.x,2)+H(k.y-l.y,2),.5)),null!=j&&m>=j)return l;k=l}return null==j?m:void 0},Tb=function(b,c){return function(d,e,f){d=zb(d);for(var g,h,i,j,k,l="",m={},n=0,o=0,p=d.length;p>o;o++){if(i=d[o],"M"==i[0])g=+i[1],h=+i[2];else{if(j=Sb(g,h,i[1],i[2],i[3],i[4],i[5],i[6]),n+j>e){if(c&&!m.start){if(k=Sb(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),l+=["C"+k.start.x,k.start.y,k.m.x,k.m.y,k.x,k.y],f)return l;m.start=l,l=["M"+k.x,k.y+"C"+k.n.x,k.n.y,k.end.x,k.end.y,i[5],i[6]].join(),n+=j,g=+i[5],h=+i[6];continue}if(!b&&!c)return k=Sb(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),{x:k.x,y:k.y,alpha:k.alpha}}n+=j,g=+i[5],h=+i[6]}l+=i.shift()+i}return m.end=l,k=b?n:c?m:a.findDotsAtSegment(g,h,i[0],i[1],i[2],i[3],i[4],i[5],1),k.alpha&&(k={x:k.x,y:k.y,alpha:k.alpha}),k}},Ub=Tb(1),Vb=Tb(),Wb=Tb(0,1);a.getTotalLength=Ub,a.getPointAtLength=Vb,a.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return Wb(a,b).end;var d=Wb(a,c,1);return b?Wb(d,b).end:d},Nb.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():Ub(this.attrs.path):void 0},Nb.getPointAtLength=function(a){return"path"==this.type?Vb(this.attrs.path,a):void 0},Nb.getSubpath=function(b,c){return"path"==this.type?a.getSubpath(this.attrs.path,b,c):void 0};var Xb=a.easing_formulas={linear:function(a){return a},"<":function(a){return H(a,1.7)},">":function(a){return H(a,.48)},"<>":function(a){var b=.48-a/1.04,c=D.sqrt(.1734+b*b),d=c-b,e=H(G(d),1/3)*(0>d?-1:1),f=-c-b,g=H(G(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:H(2,-10*a)*D.sin(2*(a-.075)*I/.3)+1},bounce:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b}};Xb.easeIn=Xb["ease-in"]=Xb["<"],Xb.easeOut=Xb["ease-out"]=Xb[">"],Xb.easeInOut=Xb["ease-in-out"]=Xb["<>"],Xb["back-in"]=Xb.backIn,Xb["back-out"]=Xb.backOut;var Yb=[],Zb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},$b=function(){for(var b=+new Date,c=0;c<Yb.length;c++){var d=Yb[c];if(!d.el.removed&&!d.paused){var e,f,g=b-d.start,h=d.ms,i=d.easing,k=d.from,l=d.diff,m=d.to,n=(d.t,d.el),o={},q={};if(d.initstatus?(g=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*h,d.status=d.initstatus,delete d.initstatus,d.stop&&Yb.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(g/h))/d.anim.top,!(0>g))if(h>g){var r=i(g/h);for(var s in k)if(k[p](s)){switch(V[s]){case J:e=+k[s]+r*h*l[s];break;case"colour":e="rgb("+[_b(Q(k[s].r+r*h*l[s].r)),_b(Q(k[s].g+r*h*l[s].g)),_b(Q(k[s].b+r*h*l[s].b))].join(",")+")";break;case"path":e=[];for(var t=0,v=k[s].length;v>t;t++){e[t]=[k[s][t][0]];for(var w=1,y=k[s][t].length;y>w;w++)e[t][w]=+k[s][t][w]+r*h*l[s][t][w];e[t]=e[t].join(x)}e=e.join(x);break;case"transform":if(l[s].real)for(e=[],t=0,v=k[s].length;v>t;t++)for(e[t]=[k[s][t][0]],w=1,y=k[s][t].length;y>w;w++)e[t][w]=k[s][t][w]+r*h*l[s][t][w];else{var z=function(a){return+k[s][a]+r*h*l[s][a]};e=[["m",z(0),z(1),z(2),z(3),z(4),z(5)]]}break;case"csv":if("clip-rect"==s)for(e=[],t=4;t--;)e[t]=+k[s][t]+r*h*l[s][t];break;default:var A=[][u](k[s]);for(e=[],t=n.paper.customAttributes[s].length;t--;)e[t]=+A[t]+r*h*l[s][t]}o[s]=e}n.attr(o),function(a,b,c){setTimeout(function(){eve("anim.frame."+a,b,c)})}(n.id,n,d.anim)}else{if(function(b,c,d){setTimeout(function(){eve("anim.frame."+c.id,c,d),eve("anim.finish."+c.id,c,d),a.is(b,"function")&&b.call(c)})}(d.callback,n,d.anim),n.attr(m),Yb.splice(c--,1),d.repeat>1&&!d.next){for(f in m)m[p](f)&&(q[f]=d.totalOrigin[f]);d.el.attr(q),j(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&j(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}}}a.svg&&n&&n.paper&&n.paper.safari(),Yb.length&&Zb($b)},_b=function(a){return a>255?255:0>a?0:a};Nb.animateWith=function(b,c,d,e,f,g){var h=d?a.animation(d,e,f,g):c,i=b.status(c);return this.animate(h).status(h,i*c.ms/h.ms)},Nb.onAnimation=function(a){return a?eve.on("anim.frame."+this.id,a):eve.unbind("anim.frame."+this.id),this},i.prototype.delay=function(a){var b=new i(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},i.prototype.repeat=function(a){var b=new i(this.anim,this.ms);return b.del=this.del,b.times=D.floor(E(a,0))||1,b},a.animation=function(b,c,d,e){if(b instanceof i)return b;(a.is(d,"function")||!d)&&(e=e||d||null,d=null),b=Object(b),c=+c||0;var f,g,h={};for(g in b)b[p](g)&&R(g)!=g&&R(g)+"%"!=g&&(f=!0,h[g]=b[g]);return f?(d&&(h.easing=d),e&&(h.callback=e),new i({100:h},c)):new i(b,c)},Nb.animate=function(b,c,d,e){var f=this;if(f.removed)return e&&e.call(f),f;var g=b instanceof i?b:a.animation(b,c,d,e);return j(g,f,g.percents[0],null,f.attr()),f},Nb.setTime=function(a,b){return a&&null!=b&&this.status(a,F(b,a.ms)/a.ms),this},Nb.status=function(a,b){var c,d,e=[],f=0;if(null!=b)return j(a,this,-1,F(b,1)),this;for(c=Yb.length;c>f;f++)if(d=Yb[f],d.el.id==this.id&&(!a||d.anim==a)){if(a)return d.status;e.push({anim:d.anim,status:d.status})}return a?0:e},Nb.pause=function(a){for(var b=0;b<Yb.length;b++)Yb[b].el.id!=this.id||a&&Yb[b].anim!=a||eve("anim.pause."+this.id,this,Yb[b].anim)!==!1&&(Yb[b].paused=!0);return this},Nb.resume=function(a){for(var b=0;b<Yb.length;b++)if(Yb[b].el.id==this.id&&(!a||Yb[b].anim==a)){var c=Yb[b];eve("anim.resume."+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status))}return this},Nb.stop=function(a){for(var b=0;b<Yb.length;b++)Yb[b].el.id!=this.id||a&&Yb[b].anim!=a||eve("anim.stop."+this.id,this,Yb[b].anim)!==!1&&Yb.splice(b--,1);return this},Nb.toString=function(){return"Raphaël’s object"};var ac=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)!a[b]||a[b].constructor!=Nb.constructor&&a[b].constructor!=ac||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},bc=ac.prototype;bc.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],!a||a.constructor!=Nb.constructor&&a.constructor!=ac||(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},bc.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},bc.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var cc in Nb)Nb[p](cc)&&(bc[cc]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][t](c,b)})}}(cc));bc.attr=function(b,c){if(b&&a.is(b,L)&&a.is(b[0],"object"))for(var d=0,e=b.length;e>d;d++)this.items[d].attr(b[d]);else for(var f=0,g=this.items.length;g>f;f++)this.items[f].attr(b,c);return this},bc.clear=function(){for(;this.length;)this.pop()},bc.splice=function(a,b){a=0>a?E(this.length+a,0):a,b=E(0,F(this.length-a,b));var c,d=[],e=[],f=[];for(c=2;c<arguments.length;c++)f.push(arguments[c]);for(c=0;b>c;c++)e.push(this[a+c]);for(;c<this.length-a;c++)d.push(this[a+c]);var g=f.length;for(c=0;c<g+d.length;c++)this.items[a+c]=this[a+c]=g>c?f[c]:d[c-g];for(c=this.items.length=this.length-=b-g;this[c];)delete this[c++];return new ac(e)},bc.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},bc.animate=function(b,c,d,e){(a.is(d,"function")||!d)&&(e=d||null);var f,g,h=this.items.length,i=h,j=this;if(!h)return this;e&&(g=function(){!--h&&e.call(j)}),d=a.is(d,K)?d:g;var k=a.animation(b,c,d,g);for(f=this.items[--i].animate(k);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(f,k);return this},bc.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},bc.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=F[t](0,a),b=F[t](0,b),{x:a,y:b,width:E[t](0,c)-a,height:E[t](0,d)-b}},bc.clone=function(a){a=new ac;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},bc.toString=function(){return"Raphaël‘s set"},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[p](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=S(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[p](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var g in f.k)f[p](g)&&(b.glyphs[e].k[g]=f.k[g])}}return a},l.getFont=function(b,c,d,e){if(e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400,a.fonts){var f=a.fonts[b];if(!f){var g=new RegExp("(^|\\s)"+b.replace(/[^\w\d\s+!~.:_-]/g,w)+"(\\s|$)","i");for(var h in a.fonts)if(a.fonts[p](h)&&g.test(h)){f=a.fonts[h];break}}var i;if(f)for(var j=0,k=f.length;k>j&&(i=f[j],i.face["font-weight"]!=c||i.face["font-style"]!=d&&i.face["font-style"]||i.face["font-stretch"]!=e);j++);return i}},l.print=function(b,c,d,e,f,g,h){g=g||"middle",h=E(F(h||0,1),-1);var i,j=this.set(),k=y(d)[z](w),l=0;if(a.is(e,d)&&(e=this.getFont(e)),e){i=(f||16)/e.face["units-per-em"];for(var n=e.face.bbox[z](m),o=+n[0],p=+n[1]+("baseline"==g?n[3]-n[1]+ +e.face.descent:(n[3]-n[1])/2),q=0,r=k.length;r>q;q++){var s=q&&e.glyphs[k[q-1]]||{},t=e.glyphs[k[q]];l+=q?(s.w||e.w)+(s.k&&s.k[k[q]]||0)+e.w*h:0,t&&t.d&&j.push(this.path(t.d).attr({fill:"#000",stroke:"none",transform:[["t",l*i,0]]}))}j.transform(["...s",i,i,o,p,"t",(b-o)/i,(c-p)/i])}return j},l.add=function(b){if(a.is(b,"array"))for(var c,d=this.set(),e=0,f=b.length;f>e;e++)c=b[e]||{},n[p](c.type)&&d.push(this[c.type]().attr(c));return d},a.format=function(b,c){var d=a.is(c,L)?[0][u](c):arguments;return b&&a.is(b,K)&&d.length-1&&(b=b.replace(o,function(a,b){return null==d[++b]?w:d[b]})),b||w},a.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),a.ninja=function(){return r.was?q.win.Raphael=r.is:delete Raphael,a},a.st=bc,function(b,c,d){function e(){/in/.test(b.readyState)?setTimeout(e,9):a.eve("DOMload")}null==b.readyState&&b.addEventListener&&(b.addEventListener(c,d=function(){b.removeEventListener(c,d,!1),b.readyState="complete"},!1),b.readyState="loading"),e()}(document,"DOMContentLoaded"),r.was?q.win.Raphael=a:Raphael=a,eve.on("DOMload",function(){k=!0})}(),window.Raphael.svg&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var t=e.shift();if(t=-d(t),isNaN(t))return null;var u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=a._parseDots(e);if(!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient){s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){if("path"==d.type){for(var g,h,i,j,k,l=c(e).toLowerCase().split("-"),n=d.paper,r=f?"end":"start",s=d.node,t=d.attrs,u=t["stroke-width"],v=l.length,w="classic",x=3,y=3,z=5;v--;)switch(l[v]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=l[v];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==w?(x+=2,y+=2,z+=2,i=1,j=f?4:1,k={fill:"none",stroke:t.stroke}):(j=i=x/2,k={fill:t.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=w){var A="raphael-marker-"+w,B="raphael-marker-"+r+w+x+y;a._g.doc.getElementById(A)?p[A]++:(n.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[w],id:A})),p[A]=1);var C,D=a._g.doc.getElementById(B);D?(p[B]++,C=D.getElementsByTagName("use")[0]):(D=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:j,refY:y/2}),C=q(q("use"),{"xlink:href":"#"+A,transform:(f?" rotate(180 "+x/2+" "+y/2+") ":m)+"scale("+x/z+","+y/z+")","stroke-width":1/((x/z+y/z)/2)}),D.appendChild(C),n.defs.appendChild(D),p[B]=1),q(C,k);var E=i*("diamond"!=w&&"oval"!=w);f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-E*u):(g=E*u,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),k={},k["marker-"+r]="url(#"+B+")",(h||g)&&(k.d=Raphael.getSubpath(t.path,g,h)),q(s,k),d._.arrows[r+"Path"]=A,d._.arrows[r+"Marker"]=B,d._.arrows[r+"dx"]=E,d._.arrows[r+"Type"]=w,d._.arrows[r+"String"]=e}else f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-g):(g=0,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),d._.arrows[r+"Path"]&&q(s,{d:Raphael.getSubpath(t.path,g,h)}),delete d._.arrows[r+"Path"],delete d._.arrows[r+"Marker"],delete d._.arrows[r+"dx"],delete d._.arrows[r+"Type"],delete d._.arrows[r+"String"];for(k in p)if(p[b](k)&&!p[k]){var F=a._g.doc.getElementById(k);F&&F.parentNode.removeChild(F)}}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,b,d){if(b=u[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":case"target":var u=i.parentNode;if("a"!=u.tagName.toLowerCase()){var w=q("a");u.insertBefore(w,i),w.appendChild(i),u=w}"target"==o&&"blank"==p?u.setAttributeNS(n,"show","new"):u.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":var x=c(p).split(j);if(4==x.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var z=q("clipPath"),A=q("rect");z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{"clip-path":"url(#"+z.id+")"}),d.clip=A}if(!p){var B=i.getAttribute("clip-path");if(B){var C=a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,l));C&&C.parentNode.removeChild(C),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":var D=c(p).match(a._ISURL);if(D){z=q("pattern");var E=q("image");z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(E,{x:0,y:0,"xlink:href":D[1]}),z.appendChild(E),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(E,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),i.style.fill="url(#"+z.id+")",q(i,{fill:"url(#"+z.id+")"}),d.pattern=z,d.pattern&&s(d);break}var F=a.getRGB(p);if(F.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(G){var H=G.getElementsByTagName("stop");q(H[H.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});F[b]("opacity")&&q(i,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=a.getRGB(p),i.setAttribute(o,F.hex),"stroke"==o&&F[b]("opacity")&&q(i,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),G&&(H=G.getElementsByTagName("stop"),q(H[H.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var I=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[I]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var j,k=c(f.text).split("\n"),m=[],n=0,o=k.length;o>n;n++)j=q("tspan"),n&&q(j,{dy:i*x,x:g.x}),j.appendChild(a._g.doc.createTextNode(k[n])),h.appendChild(j),m[n]=j}else for(m=h.getElementsByTagName("tspan"),n=0,o=m.length;o>n;n++)n?q(m[n],{dy:i*x,x:g.x}):q(m[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,"finite")&&q(m[0],{dy:r})}},z=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el;z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);return d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},A.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},A.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},A.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed){var b=this.paper;b.__set__&&b.__set__.exclude(this),k.unbind("*.*."+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(var g=c.split(j),h={},i=0,l=g.length;l>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;l>i;i++)h[c[i]]=this.attr(c[i]);return h}if(null!=d){var m={};m[c]=d}else null!=c&&a.is(c,"object")&&(m=c);for(var n in m)k("attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a._tofront(this,b),this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper);this.paper;return this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;return c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper),this},A.blur=function(b){var c=this;if(0!==+b){var d=q("filter"),e=q("feGaussianBlur");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter")},a._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var f=q("text");b.canvas&&b.canvas.appendChild(f);var g=new z(f,b);return g.attrs={x:c,y:d,"text-anchor":"middle",text:e,font:a._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var h,i=q("svg"),j="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(i,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==c?(i.style.cssText=j+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(i),h=1):(i.style.cssText=j+"position:relative",c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i)),c=new a._Paper,c.width=f,c.height=g,c.canvas=i,c.clear(),c._left=c._top=0,h&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("setViewBox",this,this._viewBox,[a,b,c,d,e]);var f,h,i=g(c/this.width,d/this.height),j=this.top,l=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(i=1),delete this._vbSize,f="0 0 "+this.width+m+this.height):(this._vbSize=i,f=a+m+b+m+c+m+d),q(this.canvas,{viewBox:f,preserveAspectRatio:l});i&&j;)h="stroke-width"in j.attrs?j.attrs["stroke-width"]:1,j.attr({"stroke-width":h}),j._.dirty=1,j._.dirtyT=1,j=j.prev;
return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var a=this.canvas,b=a.style,c=a.getScreenCTM()||a.createSVGMatrix(),d=-c.e%1,e=-c.f%1;(d||e)&&(d&&(this._left=(this._left+d)%1,b.left=this._left+"px"),e&&(this._top=(this._top+e)%1,b.top=this._top+"px"))},a.prototype.clear=function(){a.eve("clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphaël "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null};var B=a.st;for(var C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var h,i,j=e(b);g=[];for(var k=0,l=j.length;l>k;k++){h=j[k],i=j[k][0].toLowerCase(),"z"==i&&(i="x");for(var m=1,r=h.length;r>m;m++)i+=f(h[m]*u)+(m!=r-1?",":o);g.push(i)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",q=u/b,r=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(q)+n+i(r),m.rotation=f*(0>b*c?-1:1),f){var s=y(f,d,e);d=s.dx,e=s.dy}if(0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-q+n+e*-r,k||g.fillsize){var t=l.getElementsByTagName(j);t=t&&t[0],l.removeChild(t),k&&(s=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),t.position=s.dx*o+n+s.dy*o),g.fillsize&&(t.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(t)}m.visibility="visible"}};a.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var A=function(a,b,d){for(var e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,q=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),r=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),s=e;for(var t in i)i[b](t)&&(m[t]=i[t]);if(q&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||q)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),r){var y=+m.cx,B=+m.cy,D=+m.rx||+m.r||0,E=+m.ry||+m.r||0;l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((y-D)*u),f((B-E)*u),f((y+D)*u),f((B+E)*u),f(y*u))}if("clip-rect"in i){var G=c(i["clip-rect"]).split(k);if(4==G.length){G[2]=+G[2]+ +G[0],G[3]=+G[3]+ +G[1];var H=l.clipRect||a._g.doc.createElement("div"),I=H.style;I.clip=a.format("rect({1}px {2}px {3}px {0}px)",G),l.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=e.paper.width+"px",I.height=e.paper.height+"px",l.parentNode.insertBefore(H,l),H.appendChild(l),l.clipRect=H)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var J=e.textpath.style;i.font&&(J.font=i.font),i["font-family"]&&(J.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(J.fontSize=i["font-size"]),i["font-weight"]&&(J.fontWeight=i["font-weight"]),i["font-style"]&&(J.fontStyle=i["font-style"])}if("arrow-start"in i&&A(s,i["arrow-start"]),"arrow-end"in i&&A(s,i["arrow-end"],1),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var K=l.getElementsByTagName(j),L=!1;if(K=K&&K[0],!K&&(L=K=F(j)),"image"==e.type&&i.src&&(K.src=i.src),i.fill&&(K.on=!0),(null==K.on||"none"==i.fill||null===i.fill)&&(K.on=!1),K.on&&i.fill){var M=c(i.fill).match(a._ISURL);if(M){K.parentNode==l&&l.removeChild(K),K.rotate=!0,K.src=M[1],K.type="tile";var N=e.getBBox(1);K.position=N.x+n+N.y,e._.fillpos=[N.x,N.y],a._preload(M[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else K.color=a.getRGB(i.fill).hex,K.src=o,K.type="solid",a.getRGB(i.fill).error&&(s.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(s,i.fill,K)&&(m.fill="none",m.gradient=i.fill,K.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var O=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);O=h(g(O,0),1),K.opacity=O,K.src&&(K.color="none")}l.appendChild(K);var P=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],Q=!1;!P&&(Q=P=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(P.on=!0),("none"==i.stroke||null===i.stroke||null==P.on||0==i.stroke||0==i["stroke-width"])&&(P.on=!1);var R=a.getRGB(i.stroke);P.on&&i.stroke&&(P.color=R.hex),O=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+R.o+1||2)-1);var S=.75*(d(i["stroke-width"])||1);if(O=h(g(O,0),1),null==i["stroke-width"]&&(S=m["stroke-width"]),i["stroke-width"]&&(P.weight=S),S&&1>S&&(O*=S)&&(P.weight=1),P.opacity=O,i["stroke-linejoin"]&&(P.joinstyle=i["stroke-linejoin"]||"miter"),P.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(P.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var T={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};P.dashstyle=T[b](i["stroke-dasharray"])?T[i["stroke-dasharray"]]:o}Q&&l.appendChild(P)}if("text"==s.type){s.paper.canvas.style.display=o;var U=s.paper.span,V=100,W=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=U.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),W=d(m["font-size"]||W&&W[0])||10,p.fontSize=W*V+"px",s.textpath.string&&(U.innerHTML=c(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();s.W=m.w=(X.right-X.left)/V,s.H=m.h=(X.bottom-X.top)/V,s.X=m.x,s.Y=m.y+s.H/2,("x"in i||"y"in i)&&(s.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,$=Y.length;$>Z;Z++)if(Y[Z]in i){s._.dirty=1;break}switch(m["text-anchor"]){case"start":s.textpath.style["v-text-align"]="left",s.bbx=s.W/2;break;case"end":s.textpath.style["v-text-align"]="right",s.bbx=-s.W/2;break;default:s.textpath.style["v-text-align"]="center",s.bbx=0}s.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var h=(b.attrs,Math.pow),i="linear",j=".5 .5";if(b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return i="radial",b&&c&&(b=d(b),c=d(c),h(b-.5,2)+h(c-.5,2)>.25&&(c=e.sqrt(.25-h(b-.5,2))*(2*(c>.5)-1)+.5),j=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==i){var k=f.shift();if(k=-d(k),isNaN(k))return null}var l=a._parseDots(f);if(!l)return null;if(b=b.shape||b.node,l.length){b.removeChild(g),g.on=!0,g.method="none",g.color=l[0].color,g.color2=l[l.length-1].color;for(var m=[],p=0,q=l.length;q>p;p++)l[p].offset&&m.push(l[p].offset+n+l[p].color);g.colors=m.length?m.join():"0% "+g.color,"radial"==i?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=j,g.angle=0):(g.type="gradient",g.angle=(270-k)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(null==b)return this._.transform;var d,e=this.paper._viewBoxShift,f=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:o;e&&(d=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,f+b);var g,h=this.matrix.clone(),i=this.skew,j=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");if(h.translate(-.5,-.5),l||k||"image"==this.type)if(i.matrix="1 0 0 1",i.offset="0 0",g=h.split(),k&&g.noRotation||!g.isSimple){j.style.filter=h.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;j.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else j.style.filter=o,z(this,g.scalex,g.scaley,g.dx,g.dy,g.rotate);else j.style.filter=o,i.matrix=c(h),i.offset=h.offset();return d&&(this._.transform=d),this},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=c.split(k),h={},i=0,m=g.length;m>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;m>i;i++)h[c[i]]=this.attr(c[i]);return h}var n;null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(var o in n)l("attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),0!==+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){{var f=a.path();f.attrs}return f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){{var e=a.path();e.attrs}return e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("setViewBox",this,this._viewBox,[b,c,d,e,f]);var h,i,j=this.width,k=this.height,l=1/g(d/j,e/k);return f&&(h=k/e,i=j/d,j>d*h&&(b-=(j-d*h)/2/h),k>e*i&&(c-=(k-e*i)/2/i)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:l},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,e=b.width,f=b.x,g=b.y;if(!c)throw new Error("VML container not found.");var h=new a._Paper,i=h.canvas=a._g.doc.createElement("div"),j=i.style;return f=f||0,g=g||0,e=e||512,d=d||342,h.width=e,h.height=d,e==+e&&(e+="px"),d==+d&&(d+="px"),h.coordsize=1e3*u+n+1e3*u,h.coordorigin="0 0",h.span=a._g.doc.createElement("span"),h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",i.appendChild(h.span),j.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d),1==c?(a._g.doc.body.appendChild(i),j.left=f+"px",j.top=g+"px",j.position="absolute"):c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i),h.renderfix=function(){},h},a.prototype.clear=function(){a.eve("clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael);var Abstract={};Abstract.Modules={},Abstract.build=function(a,b,c,d){var e=[];return a&&$(a).each(function(){canvas=new Abstract.Canvas({width:b,height:c,draw:d,element:this}),e.push(canvas),$(this).data("AbstractCanvas",canvas)}),e},Abstract.utilites={options:function(a,b){return $.extend({},b,a)},parseMeasurement:function(a,b){var c=function(a){return b&&"string"==typeof a&&-1!=a.indexOf("%")&&(a=b*(parseInt(a)/100)),a};return a instanceof Array?($.each(a,function(b,d){a[b]=c(d)}),a):c(a)},random:function(a,b){return a&&"function"==typeof a.generate?a.generate():(a instanceof Array&&(b&&(b instanceof Array||(b=[b]),vv=[],$.each(a,function(a,c){$.inArray(c,b)&&vv.push(c)}),vv.length>0&&(a=vv)),2==a.length&&"number"==typeof a[0]&&"number"==typeof a[1]?(a.sort(function(a,b){return a-b}),a=Math.floor(Math.random()*(a[1]-a[0]+1)+a[0])):(index=Math.floor(Math.random()*a.length),a=a[index])),a)},decimalRange:function(a){return a>1&&(a/=100),a}},Abstract.Modules.Origin=function(){return this.origin=function(a){return a?(this._origin=this.buildOrigin(a),this.reposition&&this.reposition(),this):(this._origin||(this._origin=this.options.origin),this._origin=this.buildOrigin(this._origin),this._origin?this._origin:this.parent().origin())},this.buildOrigin=function(a){return a&&"Abstract.Point"!=a.class_name&&(a=new Abstract.Point(a),a.parent(this.parent?this.parent():this)),a},this},Abstract.Modules.Parent=function(){return this.parent=function(a){return a?this._parent=a:this._parent||(this._parent=this.options.parent),this._parent},this},Abstract.Modules.Shape=function(options){return this.paper=function(){return this._paper?this._paper:this.parent().paper()},this.draw=function(){return this.fill(),this.stroke(),this.rotate(),this.opacity(),this},this.x=function(){return this._x||(this._x=this.origin().x()),this._x},this.y=function(){return this._y||(this._y=this.origin().y()),this._y},this.reposition=function(){return this.element().attr({x:this.x(),y:this.y()}),this.stroke(),this},this.resize=function(){return this.element().attr({width:this.width(),height:this.height()}),this.reposition()},this.fill=function(a){return null!=a?this._fill=Abstract.utilites.random(a):null==this._fill&&(this._fill=Abstract.utilites.random(this.options.fill)),this.element()&&this.element().attr({fill:this._fill}),null!=a?this:this._fill},this.stroke=function(a){return null!=a?this._stroke=Abstract.utilites.random(a):null==this._stroke&&(this._stroke=Abstract.utilites.random(this.options.stroke)),this._stroke&&"Abstract.Stroke"!=this._stroke.class_name&&(this._stroke=new Abstract.Stroke(this._stroke)),!this._stroke||"inside"!=this._stroke.position()&&"outside"!=this._stroke.position()?(this.clearStroke(),this.element()&&this._stroke&&this.element().attr({stroke:this._stroke.color(),"stroke-width":this._stroke.width(),"stroke-opacity":this._stroke&&this._stroke.opacity()?this._stroke.opacity():this._opacity})):this.strokeElement(),null!=a?this:this._stroke},this.clearStroke=function(){this.element()&&this.element().attr({stroke:"none","stroke-width":0}),this._stroke_element&&(this._stroke_element.element().remove(),this._stroke_element=null)},this.strokeElement=function(){this.clearStroke();var klass=eval(this.class_name);this._stroke_element=new klass({fill:!1,rotate:this._rotate,parent:this.parent(),origin:{x:this.x(),y:this.y()},width:this.width()+("inside"==this._stroke.position()?-this._stroke.width():this._stroke.width()),height:this.height()+("inside"==this._stroke.position()?-this._stroke.width():this._stroke.width()),thickness:this.thickness?this.thickness()+("inside"==this._stroke.position()?-this._stroke.width():this._stroke.width()):0,stroke:{color:this._stroke.color(),width:this._stroke.width(),opacity:this._stroke&&this._stroke.opacity()?this._stroke.opacity():this._opacity}}).draw()},this.opacity=function(a){return null!=a?this._opacity=Abstract.utilites.decimalRange(Abstract.utilites.random(a)):null==this._opacity&&(this._opacity=Abstract.utilites.decimalRange(Abstract.utilites.random(this.options.opacity))),this.element()&&(this.stroke(),this.element().attr({"fill-opacity":this._opacity})),null!=a?this:this._opacity},this.rotate=function(a){return null!=a?this._rotate=Abstract.utilites.random(a):null==this._rotate&&(this._rotate=Abstract.utilites.random(this.options.rotate)),this.element()&&(this.stroke(),this.element().rotate(this._rotate)),null!=a?this:this._rotate},this},Abstract.Modules.Size=function(){return this.size=function(a){return a?(this._size=Abstract.utilites.random(a),this.resize&&this.resize(),this):(this._size||(this._size=Abstract.utilites.random(this.options.size)),this._size)},this.width=function(a){return a?(this._width=Abstract.utilites.random(a),this.resize&&this.resize(),this):(this._width||(this._width=this.size()?this.size():Abstract.utilites.random(this.options.width)),this._width)},this.height=function(a){return a?(this._height=Abstract.utilites.random(a),this.resize&&this.resize(),this):(this._height||(this._height=this.size()?this.size():Abstract.utilites.random(this.options.height)),this._height)},this},Abstract.Canvas=function(a){this.options=Abstract.utilites.options(a,{element:null,width:0,height:0,origin:new Abstract.Point({x:"50%",y:"50%",parent:this}),background:"#fff",draw:function(){}}),this.element=function(){return this._element||(this._element=this.options.element),this._element},this.paper=function(){return this._paper||(this._paper=Raphael(this.element(),this.width(),this.height())),this._paper},this.background=function(a){if(this._background)this._background.fill(a);else if("Abstract.Gradient"==a.class_name&&"radial"==a.type()){var b=Math.ceil(Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2)));this._background=new Abstract.Ellipse({size:b,fill:a,stroke:!1,parent:this,origin:new Abstract.Point({x:"50%",y:"50%"})}).draw()}else this._background=new Abstract.Rectangle({width:this.width(),height:this.height(),fill:a,stroke:!1,parent:this,origin:new Abstract.Point({x:"50%",y:"50%"})}).draw();return this},this.gradient=function(a){return new Abstract.Gradient(a)},this.stroke=function(a){return new Abstract.Stroke(a)},this.rectangle=function(a,b){var c=new Abstract.Rectangle(a);return c.parent(this),b!==!1&&c.draw(),c},this.square=function(a,b){return this.rectangle(a,b)},this.ellipse=function(a,b){var c=new Abstract.Ellipse(a);return c.parent(this),b!==!1&&c.draw(),c},this.circle=function(a,b){return this.ellipse(a,b)},this.cross=function(a,b){var c=new Abstract.Cross(a);return c.parent(this),b!==!1&&c.draw(),c},this.point=function(a){return point=new Abstract.Point(a),point.parent(this),point},this.repeat=function(a,b){if(a&&b)for(var c=0;c<Abstract.utilites.random(a);c++)b()},this.redraw=function(){this.options.draw&&(this.paper().clear(),this._background=null,this.options.draw(this))},this.options.draw&&this.options.draw(this)},Abstract.Modules.Size.call(Abstract.Canvas.prototype),Abstract.Modules.Origin.call(Abstract.Canvas.prototype),Abstract.Gradient=function(a){this.class_name="Abstract.Gradient",this.options=Abstract.utilites.options(a,{type:"linear",angle:0,start:"#fff",end:"#000",colors:null,origin:new Abstract.Point({x:.5,y:.5})}),this.x=function(){return Abstract.utilites.decimalRange(this.origin().x())},this.y=function(){return Abstract.utilites.decimalRange(this.origin().y())},this.generate=function(){var a=Abstract.utilites.random(this.options.type),b=Abstract.utilites.random(this.options.angle),c=Abstract.utilites.random(this.options.start),d=Abstract.utilites.random(this.options.end,c),e=b+"-";return"radial"==a&&(e="r("+this.x()+", "+this.y()+")"),this.options.colors&&(c=Abstract.utilites.random(this.options.colors),d=Abstract.utilites.random(this.options.colors,c)),e+c+"-"+d},this.type=function(a){return a?(this._type=Abstract.utilites.random(a),this):(this._type||(this._type=Abstract.utilites.random(this.options.type)),this._type)}},Abstract.Modules.Origin.call(Abstract.Gradient.prototype),Abstract.Point=function(a){this.class_name="Abstract.Point",this.options=Abstract.utilites.options(a,{x:0,y:0,parent:null}),this.x=function(){var a=this.options.x;return this.parent()&&(a=Abstract.utilites.parseMeasurement(this.options.x,this.parent().width())),Abstract.utilites.random(a)},this.y=function(){var a=this.options.y;return this.parent()&&(a=Abstract.utilites.parseMeasurement(this.options.y,this.parent().height())),Abstract.utilites.random(a)}},Abstract.Modules.Parent.call(Abstract.Point.prototype),Abstract.Modules.Origin.call(Abstract.Point.prototype),Abstract.Stroke=function(a){this.class_name="Abstract.Stroke",this.options=Abstract.utilites.options(a,{width:1,color:"#000",opacity:null,position:"normal"}),this.width=function(a){return a?(this._width=a,this):(this._width||(this._width=Abstract.utilites.random(this.options.width)),this._width)},this.color=function(){return this._color||(this._color=Abstract.utilites.random(this.options.color)),this._color},this.opacity=function(){return this._opacity||(this._opacity=Abstract.utilites.decimalRange(Abstract.utilites.random(this.options.opacity))),this._opacity},this.position=function(){return this._position||(p=Abstract.utilites.random(this.options.position),this._position="inside"==p||"outside"==p?p:"normal"),this._position}},Abstract.Cross=function(a){this.class_name="Abstract.Cross",this.options=Abstract.utilites.options(a,{size:null,width:0,height:0,parent:null,opacity:1,thickness:0,background:"#fff",stroke:new Abstract.Stroke,origin:null,rotate:0}),this.element=function(){return this._element||(start_x=this.x()-this.thickness()/2,start_y=this.y()-this.thickness()/2,width=(this.width()-this.thickness())/2,height=(this.height()-this.thickness())/2,this._element=this.paper().path("M"+start_x+","+start_y+"v-"+height+"h"+this.thickness()+"v"+height+"h"+width+"v"+this.thickness()+"h-"+width+"v"+height+"h-"+this.thickness()+"v-"+height+"h-"+width+"v-"+this.thickness()+"Z")),this._element},this.redraw=function(){this.element().remove(),this._element=null,this.draw()},this.reposition=function(){return this.redraw(),this},this.resize=function(){return this.redraw(),this},this.thickness=function(a){return a?(this._thickness=Abstract.utilites.random(a),this.resize&&this.resize(),this):(this._thickness||(this._thickness=Abstract.utilites.random(this.options.thickness)),this._thickness)}},Abstract.Modules.Size.call(Abstract.Cross.prototype),Abstract.Modules.Shape.call(Abstract.Cross.prototype),Abstract.Modules.Parent.call(Abstract.Cross.prototype),Abstract.Modules.Origin.call(Abstract.Cross.prototype),Abstract.Ellipse=function(a){this.class_name="Abstract.Ellipse",this.options=Abstract.utilites.options(a,{size:null,width:0,height:0,parent:null,opacity:1,background:"#fff",stroke:new Abstract.Stroke,origin:null,rotate:0}),this.element=function(){return this._element||(this._element=this.paper().ellipse(this.x(),this.y(),this.width()/2,this.height()/2)),this._element},this.reposition=function(){return this.element().attr({cx:this.x(),cy:this.y()}),this.stroke(),this},this.resize=function(){return this.element().attr({rx:this.width()/2,ry:this.height()/2}),this.reposition()}},Abstract.Modules.Size.call(Abstract.Ellipse.prototype),Abstract.Modules.Shape.call(Abstract.Ellipse.prototype),Abstract.Modules.Parent.call(Abstract.Ellipse.prototype),Abstract.Modules.Origin.call(Abstract.Ellipse.prototype),Abstract.Rectangle=function(a){this.class_name="Abstract.Rectangle",this.options=Abstract.utilites.options(a,{size:null,width:0,height:0,parent:null,opacity:1,background:"#fff",stroke:new Abstract.Stroke,origin:null,rotate:0}),this.element=function(){return this._element||(this._element=this.paper().rect(this.offsetX(),this.offsetY(),this.width(),this.height())),this._element},this.reposition=function(){return this.element().attr({x:this.offsetX(),y:this.offsetY()}),this.stroke(),this},this.offsetX=function(){return this.x()-this.width()/2},this.offsetY=function(){return this.y()-this.height()/2}},Abstract.Modules.Size.call(Abstract.Rectangle.prototype),Abstract.Modules.Shape.call(Abstract.Rectangle.prototype),Abstract.Modules.Parent.call(Abstract.Rectangle.prototype),Abstract.Modules.Origin.call(Abstract.Rectangle.prototype);var Site={init:function(){this.drawAbstract()},drawAbstract:function(){if(!$("html").hasClass("ie6")){var a=$('<div id="background" />').appendTo("body");a.wrap('<div id="background-wrapper" />');var b=Abstract.build(a,3e3,3e3,function(a){var b=["#ccc"],c=b.concat(["#FFF"]);a.origin({x:[0,"100%"],y:[0,"100%"]}),a.repeat([400,600],function(){var b=Abstract.utilites.random([1,10]);a.circle(1==b?{size:[10,200],fill:c,opacity:[5,10],stroke:!1}:2==b?{size:[60,600],fill:!1,opacity:[5,10],stroke:{color:c,width:[1,10]}}:{size:[5,32],fill:["#222"],opacity:[5,10],stroke:!1})})})[0];$("h1").css("cursor","pointer").click(function(){b.redraw()})}}};$(function(){Site.init()});